# 問題1: 基本的な期待値最適化

## 問題設定

電力系統において、風力発電の出力変動を考慮した発電計画問題を考える。

### 与えられた条件

- **風力発電出力**: 正規分布 N(μ=50MW, σ²=100MW²) に従う
- **従来発電機のコスト**: 60$/MWh
- **電力需要**: 一定で 80MW
- **計画期間**: 1時間
- **風力発電のコスト**: 0$/MWh（変動費用なし）

### 決定変数

- x: 従来発電機の発電量 [MW]
- 風力発電出力をWで表す（確率変数）

## 問題

### (1) 基本的な定式化

期待総コストを最小化する最適な従来発電機の発電量を求めよ。

**制約条件**:
- 需要を満たす必要がある: x + W ≥ 80
- 不足分は緊急電源で補う（コスト: 200$/MWh）

### (2) 期待コストの計算

風力発電出力が以下の場合の期待コストを計算せよ：
- W = 30MW（確率30%）
- W = 50MW（確率40%）
- W = 70MW（確率30%）

### (3) 最適解の導出

(2)の離散分布を用いて最適な x を求めよ。

## 解答の方向性

### ステップ1: 数理モデルの構築

目的関数：
```
minimize E[Total Cost] = 60x + 200 × E[max(80 - x - W, 0)]
```

### ステップ2: 場合分けによる計算

風力出力Wに応じて：
- W ≥ 80 - x の場合: 不足なし
- W < 80 - x の場合: 不足分 (80 - x - W) を緊急電源で補う

### ステップ3: 最適化

期待コストを x で微分して最適解を求める。

## 学習ポイント

1. **確率変数の扱い**: 期待値の線形性
2. **制約の確率的性質**: 硬制約 vs ソフト制約
3. **ペナルティコスト**: 不足時の追加コスト

## 発展問題

- 風力発電出力の分布が一様分布の場合はどうなるか？
- 緊急電源のコストが変化した場合の感度はどうか？

---

**解答例は別途提供します。まずは自力で解いてみましょう！**